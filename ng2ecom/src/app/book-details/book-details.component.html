<div class="root">
  <article class="h-product hproduct k-product">

      <header>
          <!-- TODO_BASICS: Display the book name in the H3 element -->
          <h3 class="p-name fn">{{book?.name}}</h3>
          <!-- TODO_BASICS: Display the book category in the p element -->
          <p class="p-category"><a href="#">{{book?.category}}</a></p>

      </header>

      <div class="photo-data">
          <p>
              <a href="#">
                  <img class="u-photo" [src]="getImagePath()" />
              </a>
          </p>
      </div>

      <div class="product-data">
          <p *ngIf="getRatingAverage()" class="rating"> 
                <data class="p-rating">
                    <img [src]="getStarsImagePath()"  alt="{{getRatingAverage() +  ' stars'}}" />
                </data>
          </p>
    

          <!-- TODO_BASICS: Display the book description in the p element -->
          <p class="e-description description">
                {{book?.description}}
          </p>

          <div class="price-data">
              <p class="all-prices">
                  <!-- TODO_BASICS: Display the book price in the data element -->
                  <data class="price p-price sale">{{book?.price | currency:'EUR':true}}</data>
              </p>
          </div>
          <div class="buyZone">
              <div class="availability">
                  <p><strong>Availability :</strong> immediate delivery</p>
              </div>
          </div>
      </div>
  </article>



  <div class="k-review" *ngIf="book?.comments?.length >0 ">
      <!-- TODO_BASICS: Display the number of comments in the h3 element -->
      <h3>{{book?.comments?.length}} comment<data  *ngIf="book?.comments?.length >1 ">(s)</data></h3>
      
      <!-- TODO_MORE On the dl element, iterate on each comments of the book -->
      <dl class="h-review hreview" *ngFor="let comment of book?.comments">
            
          <dt>
              <data class="p-rating">
                        <img [src]="'assets/styles/ktheme/img/' + bookService.convertFromRating(comment.rate) + '-stars.svg'"
                              alt="{{bookService.convertFromRating(comment.rate)}} stars" 
                          />      
              </data>
              <data [class]="'rating '  + bookService.convertFromRating(comment.rate)">
              </data>
              <strong class="p-reviewer h-card">{{comment.user}}</strong>
          </dt>
          
          <dd class="e-description">{{comment.comment}}</dd>
          
      </dl>
  </div>
  
</div>
